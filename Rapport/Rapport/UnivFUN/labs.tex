\chapter{Les Labs}
\section{LAB 1 : Gestion des données, DATA FRAME, Variable numériques et catégorielles}

Dans cette première session, on va s'intéresser au langage de base donc :
\begin{itemize}
\item comment importer des données enregistrées, par exemple, dans un fichier Excel '
\item comment manipuler des variables de type numérique et des variables de type catégoriel '
\end{itemize}

\begin{lstlisting}[language=html]
> ##Import du fichier de données smp2.csv
> smp <- read.csv2("/comptes/E131729J/XX_Université_fun/univfunR/TP/smp2.csv")
> ##Définition de l'espace de travail par défaut
> setwd("~/XX_Université_fun/univfunR/TP")
> ##Affichage des données :
> View(smp)
> View(smp)
\end{lstlisting}
\begin{figure}[H]\begin{center}\includegraphics[scale=0.35]{ilu/lab1smp.png}\end{center}\end{figure}
Listing du nom des variables présentes dans le fichier :
\begin{lstlisting}[language=html]
> names(smp)
 [1] "age"          "prof"         "duree"        "discip"       "n.enfant"     "n.fratrie"   
 [7] "ecole"        "separation"   "juge.enfant"  "place"        "abus"         "grav.cons"   
[13] "dep.cons"     "ago.cons"     "ptsd.cons"    "alc.cons"     "subst.cons"   "scz.cons"    
[19] "char"         "rs"           "ed"           "dr"           "suicide.s"    "suicide.hr"  
[25] "suicide.past" "dur.interv" 
\end{lstlisting}
Affichage des données V2
\begin{lstlisting}[language=html]
> str(smp)
'data.frame':	799 obs. of  26 variables:
 $ age         : int  31 49 50 47 23 34 24 52 42 45 ...
 $ prof        : Factor w/ 8 levels "agriculteur",..: 3 NA 7 6 8 6 3 2 6 6 ...
 $ duree       : int  4 NA 5 NA 4 NA NA 5 4 NA ...
 $ discip      : int  0 0 0 0 1 0 0 0 1 0 ...
 $ n.enfant    : int  2 7 2 0 1 3 5 2 1 2 ...
 $ n.fratrie   : int  4 3 2 6 6 2 3 9 12 5 ...
 $ ecole       : int  1 2 2 1 1 2 1 2 1 2 ...
 $ separation  : int  0 1 0 1 1 0 1 0 1 0 ...
 $ juge.enfant : int  0 0 0 0 NA 0 1 0 1 0 ...
 $ place       : int  0 0 0 1 1 0 1 0 0 0 ...
 $ abus        : int  0 0 0 0 0 0 0 0 1 1 ...
 $ grav.cons   : int  1 2 2 1 2 1 5 1 5 5 ...
 $ dep.cons    : int  0 0 0 0 1 0 1 0 1 0 ...
 $ ago.cons    : int  1 0 0 0 0 0 0 0 0 0 ...
 $ ptsd.cons   : int  0 0 0 0 0 0 0 0 0 0 ...
 $ alc.cons    : int  0 0 0 0 0 0 0 0 1 1 ...
 $ subst.cons  : int  0 0 0 0 0 0 1 0 1 0 ...
 $ scz.cons    : int  0 0 0 0 0 0 0 0 0 0 ...
 $ char        : int  1 1 1 1 1 1 1 1 4 1 ...
 $ rs          : int  2 2 2 2 2 1 3 2 3 2 ...
 $ ed          : int  1 2 3 2 2 2 3 2 3 2 ...
 $ dr          : int  1 1 2 2 2 1 2 2 1 2 ...
 $ suicide.s   : int  0 0 0 1 0 0 3 0 4 0 ...
 $ suicide.hr  : int  0 0 0 0 0 0 1 0 1 0 ...
 $ suicide.past: int  0 0 0 0 1 0 1 0 1 0 ...
 $ dur.interv  : int  NA 70 NA 105 NA NA 105 84 78 60 ...
\end{lstlisting}

\textbf{Note : }
\begin{itemize}
  \item \textcolor{red}{\textbf{int}} $\rightarrow$ Variable quantitative
  \item \textcolor{red}{\textbf{factor}} $\rightarrow$ Variable qualitative (level)
\end{itemize}
\textcolor{white}{8}\newline

Résumé numérique des données :
\begin{lstlisting}[language=html]
> summary(smp)
      age                       prof         duree           discip         n.enfant     
 Min.   :19.0   ouvrier           :227   Min.   :1.000   Min.   :0.000   Min.   : 0.000  
 1st Qu.:28.0   sans emploi       :222   1st Qu.:4.000   1st Qu.:0.000   1st Qu.: 0.000  
 Median :37.0   employe           :135   Median :5.000   Median :0.000   Median : 1.000  
 Mean   :38.9   artisan           : 90   Mean   :4.302   Mean   :0.232   Mean   : 1.755  
 3rd Qu.:48.0   prof.intermediaire: 58   3rd Qu.:5.000   3rd Qu.:0.000   3rd Qu.: 3.000  
 Max.   :83.0   (Other)           : 61   Max.   :5.000   Max.   :1.000   Max.   :13.000  
 NA's   :2      NA's              :  6   NA's   :223     NA's   :6       NA's   :26      
   n.fratrie          ecole         separation      juge.enfant         place       
 Min.   : 0.000   Min.   :1.000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  
 1st Qu.: 2.000   1st Qu.:1.000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  
 Median : 3.000   Median :2.000   Median :0.0000   Median :0.0000   Median :0.0000  
 Mean   : 4.287   Mean   :1.866   Mean   :0.4226   Mean   :0.2771   Mean   :0.2285  
 3rd Qu.: 6.000   3rd Qu.:2.000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:0.0000  
 Max.   :21.000   Max.   :5.000   Max.   :1.0000   Max.   :1.0000   Max.   :1.0000  
                  NA's   :5       NA's   :11       NA's   :5        NA's   :7       
      abus          grav.cons        dep.cons         ago.cons        ptsd.cons     
 Min.   :0.0000   Min.   :1.000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  
 1st Qu.:0.0000   1st Qu.:2.000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  
 Median :0.0000   Median :4.000   Median :0.0000   Median :0.0000   Median :0.0000  
 Mean   :0.2778   Mean   :3.643   Mean   :0.3967   Mean   :0.1665   Mean   :0.2165  
 3rd Qu.:1.0000   3rd Qu.:5.000   3rd Qu.:1.0000   3rd Qu.:0.0000   3rd Qu.:0.0000  
 Max.   :1.0000   Max.   :7.000   Max.   :1.0000   Max.   :1.0000   Max.   :1.0000  
 NA's   :7        NA's   :4                                                         
    alc.cons        subst.cons        scz.cons           char             rs       
 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :1.000   Min.   :1.000  
 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:1.000   1st Qu.:1.000  
 Median :0.0000   Median :0.0000   Median :0.0000   Median :1.000   Median :2.000  
 Mean   :0.1865   Mean   :0.2653   Mean   :0.0826   Mean   :1.512   Mean   :2.057  
 3rd Qu.:0.0000   3rd Qu.:1.0000   3rd Qu.:0.0000   3rd Qu.:2.000   3rd Qu.:3.000  
 Max.   :1.0000   Max.   :1.0000   Max.   :1.0000   Max.   :4.000   Max.   :3.000  
                                                    NA's   :96      NA's   :103    
       ed              dr          suicide.s        suicide.hr      suicide.past   
 Min.   :1.000   Min.   :1.000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  
 1st Qu.:1.000   1st Qu.:1.000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  
 Median :2.000   Median :2.000   Median :0.0000   Median :0.0000   Median :0.0000  
 Mean   :1.866   Mean   :2.153   Mean   :0.7942   Mean   :0.2013   Mean   :0.2841  
 3rd Qu.:3.000   3rd Qu.:3.000   3rd Qu.:1.0000   3rd Qu.:0.0000   3rd Qu.:1.0000  
 Max.   :3.000   Max.   :3.000   Max.   :5.0000   Max.   :1.0000   Max.   :1.0000  
 NA's   :107     NA's   :111     NA's   :41       NA's   :39       NA's   :14      
   dur.interv    
 Min.   :  0.00  
 1st Qu.: 48.00  
 Median : 60.00  
 Mean   : 61.89  
 3rd Qu.: 75.00  
 Max.   :120.00  
 NA's   :50   
\end{lstlisting}

La commande summuray fonctionne également pour des variables seules (pas seulement pour les data frames)\newline
Pour isoler une variable dans un data frame, \textit{xxx\$yyy} (x: nom du data frame, y : nom de la variable)\newline

\begin{lstlisting}[language=html]
> summary(smp$age)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   19.0    28.0    37.0    38.9    48.0    83.0       2 
\end{lstlisting}
On peut toujours écrire \textit{smp\$age} mais dans ce cas, \textbf{R} va nous renvoyer l'ensemble des observations


\begin{lstlisting}[language=html]
> smp$age
  [1] 31 49 50 47 23 34 24 52 42 45 31 NA 21 40 64 67 60 63 NA 28 20 30 32 31 26 42 32 40 41
 [30] 27 24 38 39 36 29 41 36 41 21 21 46 22 21 35 45 38 19 21 27 40 39 47 24 36 39 22 38 37
 [59] 29 23 36 42 56 28 36 38 43 29 64 25 51 35 30 37 26 36 58 32 30 26 27 23 24 39 43 39 26
 [88] 44 37 40 24 46 26 38 37 30 39 36 39 28 27 51 48 47 41 35 25 31 44 40 29 34 49 57 33 35
[117] 32 34 46 45 31 42 48 34 34 64 50 53 49 53 37 42 55 32 33 40 29 32 23 61 39 30 37 30 39
[146] 49 44 40 56 43 27 21 44 50 50 20 37 42 27 22 25 20 21 19 25 24 49 24 26 35 22 24 23 46
[175] 26 41 51 20 30 37 49 28 28 51 40 33 25 29 40 43 35 50 44 35 24 43 26 45 42 45 48 45 34
[204] 31 40 22 42 38 38 40 46 26 29 25 40 43 28 29 32 28 57 31 71 33 24 22 25 26 52 33 38 39
[233] 41 52 33 39 59 33 50 58 23 41 43 42 22 57 41 30 66 49 46 28 59 35 44 83 34 49 60 56 46
[262] 62 41 27 53 48 66 66 55 61 43 54 38 51 51 50 56 53 49 41 44 64 42 52 72 43 30 32 43 25
[291] 27 25 52 39 42 59 46 62 50 24 43 32 67 28 44 19 20 23 26 28 31 42 57 30 36 53 33 25 22
[320] 42 25 32 23 45 48 35 37 38 24 47 61 38 27 27 26 30 47 37 30 41 29 37 28 47 26 50 23 60
[349] 37 48 41 28 54 61 33 31 25 66 26 29 29 53 24 48 40 47 40 41 54 25 36 44 32 27 31 34 34
[378] 71 20 54 39 50 36 37 43 28 21 35 36 53 36 38 66 62 38 24 49 21 34 29 36 29 33 34 57 65
[407] 25 36 31 54 49 42 30 20 23 21 23 39 45 29 21 54 77 23 32 58 49 26 40 51 62 45 41 30 52
[436] 20 36 34 35 30 46 79 66 19 41 51 26 56 33 39 72 45 59 21 41 43 55 26 49 29 26 28 77 61
[465] 63 30 49 48 45 32 56 48 64 73 33 74 54 27 49 45 27 53 62 54 37 56 60 33 34 32 44 49 46
[494] 67 39 59 63 81 38 58 42 73 48 41 28 44 45 46 50 27 56 46 42 25 23 26 19 24 24 32 23 24
[523] 33 21 33 41 24 31 19 25 51 39 22 20 30 34 28 20 20 33 24 32 37 25 24 29 19 37 56 49 60
[552] 29 22 20 49 33 30 29 25 62 41 33 44 60 24 24 33 27 45 33 44 23 23 35 36 28 24 27 27 28
[581] 27 40 52 19 31 21 33 23 30 23 31 48 24 24 26 32 29 38 23 50 26 47 38 24 24 19 25 31 33
[610] 26 38 23 37 19 49 33 30 38 30 26 27 21 31 19 26 28 49 35 25 32 27 20 30 25 21 54 27 22
[639] 39 21 54 49 23 36 59 50 24 47 42 41 33 46 23 19 39 38 40 39 40 44 26 48 47 23 25 20 45
[668] 44 57 39 55 19 34 28 33 19 33 27 46 47 22 27 26 52 56 44 63 34 41 38 37 58 37 24 60 26
[697] 21 52 20 37 32 32 58 49 32 37 46 50 44 47 37 38 50 56 30 34 43 55 43 31 55 41 68 45 48
[726] 42 71 38 46 65 51 57 57 71 40 43 71 48 34 69 43 35 62 34 51 48 36 44 49 74 19 56 57 65
[755] 52 77 29 37 45 40 72 27 56 35 30 37 30 40 54 26 48 83 32 22 48 67 58 37 24 34 39 38 39
[784] 56 35 26 70 68 42 41 40 26 50 27 28 44 31 38 71
\end{lstlisting}
On peut cependant afficher une observation précise grâce au crochets.
\begin{lstlisting}[language=html]
> smp$age[1]
[1] 31
\end{lstlisting}

On peut également demander à R d'afficher une suite de données (par exemple les dix premières)
\begin{lstlisting}[language=html]
> smp$age[1:10]
 [1] 31 49 50 47 23 34 24 52 42 45
\end{lstlisting}

Calcul de la valeur minimale pour la variable age (Il faut préciser le second paramètre sinon il n'enlève pas les valeurs manquante et nous renvoi NA)
\begin{lstlisting}[language=html]
> min(smp$age, na.rm =TRUE)
[1] 19
\end{lstlisting}
Et maintenant pour les fonctions de base \textit{max} et \textit{mean}
\begin{lstlisting}[language=html]
> max(smp$age, na.rm = TRUE)
[1] 83
> mean(smp$age, na.rm = TRUE)
[1] 38.89962
\end{lstlisting}
Dans le cadre des variable binaire, on souhaite renvoyer les premières valeurs de la variable abus : 
\begin{lstlisting}[language=html]
> smp$abus[1:10]
 [1] 0 0 0 0 0 0 0 0 1 1
 \end{lstlisting}
Ou alors 
\begin{lstlisting}[language=html]
> head(smp$abus, n=10)
 [1] 0 0 0 0 0 0 0 0 1 1
\end{lstlisting}
Si l'on souhaite retrouver les modalité de cette variable binaire :
\begin{lstlisting}[language=html]
> unique(smp$abus)
[1]  0  1 NA
\end{lstlisting}
Pour connaitre le nombre total d'observations :
\begin{lstlisting}[language=html]
> length(smp$abus)
[1] 799
\end{lstlisting}
Ce qui correspond globalement au nombre de lignes du tableau \textit{smp}
\begin{lstlisting}[language=html]
> nrow(smp)
[1] 799
\end{lstlisting}
Le tableau d'effectifs associés à chaque modalités (On remarque que la somme des effectifs n'est pas égales à 799, cela provient du fait que les variables NA ne sont pas affichées)
\begin{lstlisting}[language=html]
> table(smp$abus)

  0   1 
572 220 
\end{lstlisting}
Pour les afficher les valeurs manquantes:
\begin{lstlisting}[language=html]
> table(smp$abus, useNA = "always")

   0    1 <NA> 
 572  220    7 
\end{lstlisting}
Si l'on fait : 
\begin{lstlisting}[language=html]
> summary(smp$abus)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 0.0000  0.0000  0.0000  0.2778  1.0000  1.0000       7 
\end{lstlisting}
On remarque que la variable abus est traités comme une variable numérique. Si l'on souhaite la traiter comme une variable qualitative, nous allons utiliser la commande factor qui va retourner les modes possibles : 
\begin{lstlisting}[language=html]
> head(smp$abus)
[1] 0 0 0 0 0 0
> ##Renvoie les modes possibles.
> head(factor(smp$abus))
[1] 0 0 0 0 0 0
Levels: 0 1
\end{lstlisting}
Nous allons créer une nouvelle variable pour traiter ABUS comme un variable qualitative : 
\begin{lstlisting}[language=html]
> abus <- factor(smp$abus)
> table(abus, useNA="always")
abus
   0    1 <NA> 
 572  220    7 
 \end{lstlisting}
Nous pouvons donner des noms à ces niveaux : 
\begin{lstlisting}[language=html]
> abus <- factor(smp$abus, levels =c(0,1), labels=c("Non","Oui"))
\end{lstlisting}
Afficher les données de Abus sans les valeurs non renseignées sous forme d'une tableau : 
\begin{lstlisting}[language=html]
> table(abus)
abus
Non Oui 
572 220 
\end{lstlisting}
Pour affichier les valeurs de Abus avec les valeurs non renseignées
\begin{lstlisting}[language=html]
> table(abus, useNA="always")
abus
 Non  Oui <NA> 
 572  220    7 
\end{lstlisting}
On peut voir que les modalités Non (resp Oui) ont été associées aux valeurs 0 (resp 1).\newline
\\
Nous pouvons dès lors regarder une autre variable qualitative : 
\begin{lstlisting}[language=html]
> names(smp)
 [1] "age"          "prof"         "duree"        "discip"       "n.enfant"     "n.fratrie"   
 [7] "ecole"        "separation"   "juge.enfant"  "place"        "abus"         "grav.cons"   
[13] "dep.cons"     "ago.cons"     "ptsd.cons"    "alc.cons"     "subst.cons"   "scz.cons"    
[19] "char"         "rs"           "ed"           "dr"           "suicide.s"    "suicide.hr"  
[25] "suicide.past" "dur.interv"  
\end{lstlisting}
Et prenons par exemple le nombre d'enfants. Si l'on regarde les premières observations de cette variable :  
\begin{lstlisting}[language=html]
> head(smp$n.enfant)
[1] 2 7 2 0 1 3
\end{lstlisting}
On peut remarquer que l'on a des valeurs numériques. On peut donc utiliser la commande \textit{summary()} car \textbf{R} considère que c'est une variable numérique. 
\begin{lstlisting}[language=html]
> summary(smp$n.enfant)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  0.000   0.000   1.000   1.755   3.000  13.000      26 
\end{lstlisting}
On peut créer une nouvelle variable : 
\begin{lstlisting}[language=html]
> gauss <- smp$n.enfant
> head(gauss)
[1] 2 7 2 0 1 3
> summary(gauss)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  0.000   0.000   1.000   1.755   3.000  13.000      26 
\end{lstlisting}
Si l'on souhaite étudier la répartition des effectifs, nous devons alors entrer la commande : 
\begin{lstlisting}[language=html]
> table(gauss)
gauss
  0   1   2   3   4   5   6   7   8   9  10  11  13 
214 220 125 101  55  31   7   7   7   2   2   1   1 
\end{lstlisting}

Si l'on souhaite retourner le nombre d'enfant dont l'âge est supérieur à 4 ans.
\begin{lstlisting}[language=html]
> table(gauss > 4)

FALSE  TRUE 
  715    58 
\end{lstlisting}

Un autre test : 
\begin{lstlisting}[language=html]
> table(gauss <=4)

FALSE  TRUE 
   58   715 
\end{lstlisting}
Si l'on souhaite définir une nouvelle variable correspondant à  l'age des enfants dans une variable \textbf{mais} sous forme de facteurs (et non plus de nombres), nous ferons : 
\begin{lstlisting}[language=html]
> smp$n.enfant.cat <-factor(smp$n.enfant)
## Affichage comme tableau d'effectifs
> table(smp$n.enfant.cat)

  0   1   2   3   4   5   6   7   8   9  10  11  13 
214 220 125 101  55  31   7   7   7   2   2   1   1 
\end{lstlisting}
On peut retourner le nombre de niveau/mode de cette variable : 
\begin{lstlisting}[language=html]
> levels(smp$n.enfant.cat)
 [1] "0"  "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "13"
> nlevels(smp$n.enfant.cat)
[1] 13
\end{lstlisting}

On peut à présent rassembler (agréger) les derniers niveau à partir de 5, on va considérer que les niveau 6 à 13 représentent une modalité unique - On redéfinit donc un nouveau mode :
\begin{lstlisting}[language=html]
> levels(smp$n.enfant.cat)[6:13]<-"+5"
## Affichage comme tableau d'effectifs
> table(smp$n.enfant.cat)

  0   1   2   3   4  +5 
214 220 125 101  55  58 
\end{lstlisting}
Les effectifs ont donc été agrégés dans la même classe.\newline
Il serait possible de faire la même commande pour une variable numérique
\\

Nous allons maintenant sauvegarder notre fichier smp au format R. On donne le nom du Data Frame sur lequel nous travallions ainsi que le noms du fichier.
\begin{lstlisting}[language=html]
> save(smp, file="smp_v1.rda")
\end{lstlisting}
On peut également sauvegarder l'historique des commandes que nous avons saisies 
\begin{lstlisting}[language=html]
> savehistory("commande.R")
\end{lstlisting}
\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{LAB 2 : Indexation critériée d'observations, sélection de variables, graphiques univariés}
Dans cette deuxième session, nous allons nous intéresser à la sélection indexée d'observations ou à la restriction d'un tableau de données à un certain nombre de variables, ce qui est souvent plus pratique, soit pour faire des analyses statistiques, soit pour faire des représentations graphiques.
\subsection*{Récupération du code épuré du précédent lab}
\textbf{Note : } il existe deux possibilités pour chargé un fichier : 
\begin{enumerate}
\item Appuyer sur le bouton source sachant que le script est déjà écrit dans le workspace
\item Utiliser la fonction load pour charger des données : ex : \textit{load("smp\_lab2.rda")}
\end{enumerate}
Définition du répertoire de travail et import des données.
\begin{lstlisting}[language=html]
> setwd("[...]/StatDesR/TP")
> smp <- read.csv2("DONNEES/smp2.csv")
> names(smp)
 [1] "age"          "prof"         "duree"        "discip"      
 [5] "n.enfant"     "n.fratrie"    "ecole"        "separation"  
 [9] "juge.enfant"  "place"        "abus"         "grav.cons"   
[13] "dep.cons"     "ago.cons"     "ptsd.cons"    "alc.cons"    
[17] "subst.cons"   "scz.cons"     "char"         "rs"          
[21] "ed"           "dr"           "suicide.s"    "suicide.hr"  
[25] "suicide.past" "dur.interv"  
> str(smp)
'data.frame': 799 obs. of  26 variables:
 $ age         : int  31 49 50 47 23 34 24 52 42 45 ...
 $ prof        : Factor w/ 8 levels "agriculteur",..: 3 NA 7 6 8 6 3 2 6 6 ...
 $ duree       : int  4 NA 5 NA 4 NA NA 5 4 NA ...
 $ discip      : int  0 0 0 0 1 0 0 0 1 0 ...
 $ n.enfant    : int  2 7 2 0 1 3 5 2 1 2 ...
 $ n.fratrie   : int  4 3 2 6 6 2 3 9 12 5 ...
 $ ecole       : int  1 2 2 1 1 2 1 2 1 2 ...
 $ separation  : int  0 1 0 1 1 0 1 0 1 0 ...
 $ juge.enfant : int  0 0 0 0 NA 0 1 0 1 0 ...
 $ place       : int  0 0 0 1 1 0 1 0 0 0 ...
 $ abus        : int  0 0 0 0 0 0 0 0 1 1 ...
 $ grav.cons   : int  1 2 2 1 2 1 5 1 5 5 ...
 $ dep.cons    : int  0 0 0 0 1 0 1 0 1 0 ...
 $ ago.cons    : int  1 0 0 0 0 0 0 0 0 0 ...
 $ ptsd.cons   : int  0 0 0 0 0 0 0 0 0 0 ...
 $ alc.cons    : int  0 0 0 0 0 0 0 0 1 1 ...
 $ subst.cons  : int  0 0 0 0 0 0 1 0 1 0 ...
 $ scz.cons    : int  0 0 0 0 0 0 0 0 0 0 ...
 $ char        : int  1 1 1 1 1 1 1 1 4 1 ...
 $ rs          : int  2 2 2 2 2 1 3 2 3 2 ...
 $ ed          : int  1 2 3 2 2 2 3 2 3 2 ...
 $ dr          : int  1 1 2 2 2 1 2 2 1 2 ...
 $ suicide.s   : int  0 0 0 1 0 0 3 0 4 0 ...
 $ suicide.hr  : int  0 0 0 0 0 0 1 0 1 0 ...
 $ suicide.past: int  0 0 0 0 1 0 1 0 1 0 ...
 $ dur.interv  : int  NA 70 NA 105 NA NA 105 84 78 60 ...
> summary(smp)
## Trop long
\end{lstlisting}
Création d'une variable qualitative : 
\begin{lstlisting}[language=html]
> gauss <- factor(smp$n.enfant)
> levels(gauss)[6:13]<-"5+"
> table(gauss)
gauss
  0   1   2   3   4  5+ 
214 220 125 101  55  58 
\end{lstlisting}
\subsubsection*{Pour les variables numériques}
Nous avons vu dans la session précédente que nous pouvions accéder directement aux observations d'une variable de la manière suivante : 
\begin{lstlisting}[language=html]
> smp$age[1]
[1] 31
\end{lstlisting}
Il est également possible de réaliser cet accès à partir du Data Frame lui même en indexant ce dernier (exemple pour la première observation de la première variable (Age)) 
\begin{lstlisting}[language=html]
 [1] "age"          "prof"         "duree"        "discip"       "n.enfant"     "n.fratrie"    "ecole"       
 [8] "separation"   "juge.enfant"  "place"        "abus"         "grav.cons"    "dep.cons"     "ago.cons"    
[15] "ptsd.cons"    "alc.cons"     "subst.cons"   "scz.cons"     "char"         "rs"           "ed"          
[22] "dr"           "suicide.s"    "suicide.hr"   "suicide.past" "dur.interv"  
> smp[1,1]
[1] 31
> smp[1,"age"]  ## Méthode équivalente
[1] 31
\end{lstlisting}
Pour la seconde méthode, il est en effet plus commode de donner directement le nom de la variable (ici "age").

\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
